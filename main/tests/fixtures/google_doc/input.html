<html><head><script type="text/javascript">
(function(){var a="start";function c(b){this.t={};this.tick=function(b,f,d){this.t[b]=[d!=void 0?d:(new Date).getTime(),f]};this.tick(a,null,b)}var e=new c;window.jstiming={Timer:c,load:e};try{var g=null;window.chrome&&window.chrome.csi&&(g=Math.floor(window.chrome.csi().pageT));g==null&&window.gtbExternal&&(g=window.gtbExternal.pageT());g==null&&window.external&&(g=window.external.pageT);g&&(window.jstiming.pt=g)}catch(h){};})()
</script><script type="text/javascript">var KX_timer = new window.jstiming.Timer(); KX_timer.name = 'published';</script><title>xls2xform_syntax</title><style type="text/css">
      body {
        font-family: arial, sans, sans-serif;
        margin: 0;
      }

      iframe {
        border: 0;
        frameborder: 0;
        height: 100%;
        width: 100%;
      }

      #header, #footer {
        background: #f0f0f0;
        padding: 10px 10px;
      }

      #header {
        border-bottom: 1px #ccc solid;
      }

      #footer {
        border-top: 1px #ccc solid;
        border-bottom: 1px #ccc solid;
        font-size: 13;
      }

      #contents {
        margin: 6px;
      }

      .dash {
        padding: 0 6px;
      }
    </style></head><body><div id="header">xls2xform_syntax</div><div id="contents"><style type="text/css">ol{margin:0;padding:0}p{margin:0}.c16{vertical-align:top;width:45pt;border-style:solid;background-color:#00ff00;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c37{vertical-align:top;width:48.8pt;border-style:solid;background-color:#00ff00;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c30{vertical-align:top;width:47.2pt;border-style:solid;background-color:#00ff00;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c38{vertical-align:top;width:42.8pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c42{vertical-align:top;width:317.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c24{vertical-align:top;width:143.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c23{vertical-align:top;width:96.8pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c44{vertical-align:top;width:32.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c15{vertical-align:top;width:72.8pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c7{vertical-align:top;width:53.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c51{vertical-align:top;width:48.8pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c11{vertical-align:top;width:126.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c22{vertical-align:top;width:71.5pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c34{vertical-align:top;width:272.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c19{vertical-align:top;width:78pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c36{vertical-align:top;width:265.5pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c54{vertical-align:top;width:52.5pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c49{vertical-align:top;width:39.8pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c28{vertical-align:top;width:190.5pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c53{vertical-align:top;width:296.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c4{vertical-align:top;width:126.8pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c9{vertical-align:top;width:192.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c39{vertical-align:top;width:77.5pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c45{vertical-align:top;width:99.8pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c21{vertical-align:top;width:79.5pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c27{vertical-align:top;width:45pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c26{vertical-align:top;width:73.8pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c12{vertical-align:top;width:371.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c6{vertical-align:top;width:352pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c32{vertical-align:top;width:94.8pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c17{vertical-align:top;width:82pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c14{vertical-align:top;width:73.5pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c40{vertical-align:top;width:44.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c41{vertical-align:top;width:74.5pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c52{vertical-align:top;width:47.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c48{vertical-align:top;width:352.5pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c10{vertical-align:top;width:48.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c31{vertical-align:top;width:49.5pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c43{vertical-align:top;width:38.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c1{vertical-align:top;width:74.2pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c35{vertical-align:top;width:238.5pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c46{width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c20{list-style-type:decimal;margin:0;padding:0}.c0{color:inherit;text-decoration:inherit}.c25{padding-left:0pt;margin-left:36pt}.c2{line-height:1.0;direction:ltr}.c3{color:#000099;text-decoration:underline}.c13{direction:ltr}.c18{margin-left:18pt}.c55{margin-right:60pt}.c5{border-collapse:collapse}.c33{text-align:center}.c29{height:0pt}.c50{margin-left:36pt}.c47{background-color:#00ff00}.c8{height:11pt}body{color:#000000;font-size:11pt;font-family:Arial}h1{padding-top:24pt;color:#000000;font-size:24pt;font-family:Arial;font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;color:#000000;font-size:18pt;font-family:Arial;font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;color:#000000;font-size:14pt;font-family:Arial;font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;color:#000000;font-size:12pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}h5{padding-top:11pt;color:#000000;font-size:11pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;color:#000000;font-size:10pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}</style><p class="c13 c8"><span></span></p><p class="c13 c18"><span class="c3"><a class="c0" href="#h.92ndqcrwx98v">Introduction</a></span></p><p class="c13 c18"><span class="c3"><a class="c0" href="#h.699ffpepx6zs">Hello World</a></span></p><p class="c13 c18"><span class="c3"><a class="c0" href="#h.42hevwx7p118">Question Types</a></span></p><p class="c13 c50"><span class="c3"><a class="c0" href="#h.spj3ypx2zv8y">Muliple Choice Questions</a></span></p><p class="c13 c50"><span class="c3"><a class="c0" href="#h.jsu3s6f39oyf">Metadata</a></span></p><p class="c13 c18"><span class="c3"><a class="c0" href="#h.68ucd32hlkvq">Grouping Questions</a></span></p><p class="c13 c18"><span class="c3"><a class="c0" href="#h.3z8gryy4z1bj">Skipping Questions</a></span></p><p class="c13 c18"><span class="c3"><a class="c0" href="#h.sb64nu83voqg">Constraining Responses</a></span></p><p class="c13 c18"><span class="c3"><a class="c0" href="#h.jyy7kwsrwh5p">Multiple Language Support</a></span></p><p class="c13 c18"><span class="c3"><a class="c0" href="#h.4qwn0r6u4iyn">Keys to translating a paper survey to the phone</a></span></p><p class="c13 c18"><span class="c3"><a class="c0" href="#h.fkfll21bhg28">Frequently Asked Questions</a></span></p><p class="c13 c50"><span class="c3"><a class="c0" href="#h.f0arth1qp8c">Household Rosters</a></span></p><p class="c13 c18"><span class="c3"><a class="c0" href="#h.nk8ii6ms11yj">References</a></span></p><p><span></span></p><h3 class="c13"><a name="h.92ndqcrwx98v"></a><span>Introduction</span></h3><p class="c13"><span>This document will help you write surveys for ODK Collect using xls2xform. In my experience, ODK Collect is an amazing tool. The software is free, the source code is open, and the community is very active. If this is your first time writing an XForm for ODK Collect, please use </span><span class="c3"><a class="c0" href="http://opendatakit.org/use/build/">ODK Build</a></span><span> first. If Build does everything you want, you’re all set. If you want more control over how your survey behaves, keep reading.</span></p><p class="c13"><span>Here are the steps involved in writing a survey using xls2xform:</span></p><ol class="c20" start="1"><li class="c25 c13"><span>Write a survey using the xls2xform syntax described below.</span></li><li class="c25 c13"><span>Convert that file using </span><span class="c3"><a class="c0" href="http://xform-prod.mvpafrica.org/">xls2xform</a></span><span>.</span></li><li class="c25 c13"><span>Place the downloaded XML file in the /odk/forms folder on your Android device’s SD card.</span></li><li class="c25 c13"><span>Start using your new form in ODK Collect.</span></li></ol><h3 class="c13"><a name="h.699ffpepx6zs"></a><span>Hello World</span></h3><p class="c13 c33"><img height="241" src="pubimage?id=1Dze4IZGr0IoIFuFAI_ohKR5mYUt4IAn5Y-uCJmnv1FQ&amp;image_id=1mtX_FQ1AlfV1tyYNzOCnncc8kumHPL8" width="554"></p><ol class="c20" start="1"><li class="c25 c13"><span>The file name &#39;hello_world&#39; will be used to identify the survey.</span></li><li class="c25 c13"><span>There is a single worksheet name &#39;survey&#39; this is where all questions should be located.</span></li><li class="c25 c13"><span>There are three columns &#39;type&#39;, &#39;name&#39;, and &#39;label&#39;. The &#39;type&#39; column describes the question type. The &#39;name&#39; column assigns a variable name to the question. The &#39;label&#39; column contains the question text, which will appear on the phone.</span></li><li class="c13 c25"><span>The survey pictured above has a single question which asks &quot;Hello, what&#39;s your name?&quot; And provides a text box for the surveyor to enter a response.</span></li><li class="c25 c13"><span>This file is saved in the &#39;Excel 97-2004 Workbook (.xls)&#39; format.</span></li></ol><p class="c13 c8"><span></span></p><p class="c13"><span>Although screenshots make these ideas clear, they are difficult to edit. For the rest of this presentation we will use the following table notation in lieu of screenshots from Excel.</span></p><p class="c13 c8"><span></span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr><td class="c16"><p class="c2"><span>survey</span></p></td><td class="c44"><p class="c2 c8"><span></span></p></td><td class="c43"><p class="c2 c8"><span></span></p></td><td class="c48"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c44"><p class="c2"><span>type</span></p></td><td class="c43"><p class="c2"><span>name</span></p></td><td class="c48"><p class="c2"><span>label</span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c44"><p class="c2"><span>text</span></p></td><td class="c43"><p class="c2"><span>name</span></p></td><td class="c48"><p class="c2"><span>Hello, what’s your name?</span></p></td></tr></tbody></table><p class="c13 c8"><span></span></p><h3 class="c13"><a name="h.42hevwx7p118"></a><span>Question Types</span></h3><p class="c13"><span>Like the text question above ODK Collect supports a number of simple question types:</span></p><p class="c13 c8"><span></span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr><td class="c23"><p class="c2"><span>text</span></p></td><td class="c12"><p class="c2"><span>Accepts text input.</span></p></td></tr><tr><td class="c23"><p class="c2"><span>integer</span></p></td><td class="c12"><p class="c2"><span>Accepts an integer input.</span></p></td></tr><tr><td class="c23"><p class="c2"><span>decimal</span></p></td><td class="c12"><p class="c2"><span>Accepts a decimal input.</span></p></td></tr><tr><td class="c23"><p class="c2"><span>date</span></p></td><td class="c12"><p class="c2"><span>Accepts a date input.</span></p></td></tr><tr><td class="c23"><p class="c2"><span>note</span></p></td><td class="c12"><p class="c2"><span>Display a note on the screen, takes no input.</span></p></td></tr><tr><td class="c23"><p class="c2"><span>geopoint</span></p></td><td class="c12"><p class="c2"><span>Collects GPS coordinates.</span></p></td></tr><tr><td class="c23"><p class="c2"><span>image</span></p></td><td class="c12"><p class="c2"><span>Take a photograph.</span></p></td></tr><tr><td class="c23"><p class="c2"><span>barcode</span></p></td><td class="c12"><p class="c2"><span>Scan a barcode, requires the barcode scanner is installed.</span></p></td></tr></tbody></table><p class="c13 c8"><span></span></p><p class="c13"><span>For instance, if I wanted a survey which collected the name and gps coordinates of a store would use the following Excel file:</span></p><p class="c13 c8"><span></span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr><td class="c16"><p class="c2"><span>survey</span></p></td><td class="c54"><p class="c2 c8"><span></span></p></td><td class="c7"><p class="c2 c8"><span></span></p></td><td class="c42"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c54"><p class="c2"><span>type</span></p></td><td class="c7"><p class="c2"><span>name</span></p></td><td class="c42"><p class="c2"><span>label</span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c54"><p class="c2"><span>text</span></p></td><td class="c7"><p class="c2"><span>name</span></p></td><td class="c42"><p class="c2"><span>What is the name of this store?</span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c54"><p class="c2"><span>geopoint</span></p></td><td class="c7"><p class="c2"><span>geopoint</span></p></td><td class="c42"><p class="c2"><span>Collec the GPS coordinates of this store.</span></p></td></tr></tbody></table><p class="c13 c8"><span></span></p><h4 class="c13"><a name="h.spj3ypx2zv8y"></a><span>Muliple Choice Questions</span></h4><p class="c13"><span>ODK Collect has support for both ‘select one’ and ‘select all that apply’ questions. To write a multiple choice question requires adding a second worksheet called ‘choices’ to our Excel workbook. Here is an example of a ‘select one’ question:</span></p><p class="c13 c8"><span></span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr><td class="c31 c47"><p class="c2"><span>survey</span></p></td><td class="c4"><p class="c2 c8"><span></span></p></td><td class="c7"><p class="c2 c8"><span></span></p></td><td class="c35"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c31"><p class="c2 c8"><span></span></p></td><td class="c4"><p class="c2"><span>type</span></p></td><td class="c7"><p class="c2"><span>name</span></p></td><td class="c35"><p class="c2"><span>label</span></p></td></tr><tr><td class="c31"><p class="c2 c8"><span></span></p></td><td class="c4"><p class="c2"><span>select one from yes_no</span></p></td><td class="c7"><p class="c2"><span>married</span></p></td><td class="c35"><p class="c2"><span>Are you married?</span></p></td></tr><tr><td class="c31 c47"><p class="c2"><span>choices</span></p></td><td class="c4"><p class="c2 c8"><span></span></p></td><td class="c7"><p class="c2 c8"><span></span></p></td><td class="c35"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c31"><p class="c2 c8"><span></span></p></td><td class="c4"><p class="c2"><span>list name</span></p></td><td class="c7"><p class="c2"><span>name</span></p></td><td class="c35"><p class="c2"><span>label</span></p></td></tr><tr><td class="c31"><p class="c2 c8"><span></span></p></td><td class="c4"><p class="c2"><span>yes_no</span></p></td><td class="c7"><p class="c2"><span>yes</span></p></td><td class="c35"><p class="c2"><span>Yes</span></p></td></tr><tr><td class="c31"><p class="c2 c8"><span></span></p></td><td class="c4"><p class="c2"><span>yes_no</span></p></td><td class="c7"><p class="c2"><span>no</span></p></td><td class="c35"><p class="c2"><span>No</span></p></td></tr></tbody></table><p class="c13 c8"><span></span></p><ol class="c20" start="1"><li class="c25 c13"><span>There are three columns on the ‘choices’ sheet: ‘list name’ contains the name of multiple choice list this choice belongs to. ‘name’ holds the value that will be submitted to the database if this choice is selected. ‘label’ is what will appear on the phone for this choice.</span></li><li class="c25 c13"><span>To add a select one question to your survey you must add a question with type ‘select one from list-name’ where ‘list-name’ must match a list from the ‘choices’ worksheet.</span></li><li class="c25 c13"><span>To add a select all that apply question the question type should be ‘select all that apply from list-name’.</span></li></ol><h4 class="c13"><a name="h.jsu3s6f39oyf"></a><span>Metadata</span></h4><p class="c13"><span>ODK Collect makes a number of metadata fields available for collection:</span></p><p class="c13 c8"><span></span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr><td class="c32"><p class="c13"><span>start</span></p></td><td class="c6"><p class="c13"><span>Start date and time of the survey.</span></p></td></tr><tr><td class="c32"><p class="c13"><span>end</span></p></td><td class="c6"><p class="c13"><span>End date and time of the survey.</span></p></td></tr><tr><td class="c32"><p class="c13"><span>today</span></p></td><td class="c6"><p class="c13"><span>Day of the survey.</span></p></td></tr><tr><td class="c32"><p class="c13"><span>deviceid</span></p></td><td class="c6"><p class="c13"><span>IMEI (International Mobile Equipment Identity)</span></p></td></tr><tr><td class="c32"><p class="c13"><span>subscriberid</span></p></td><td class="c6"><p class="c13"><span>IMSI (International Mobile Subscriber Identity)</span></p></td></tr><tr><td class="c32"><p class="c13"><span>simserial</span></p></td><td class="c6"><p class="c13"><span>SIM serial number.</span></p></td></tr><tr><td class="c32"><p class="c2"><span>phonenumber</span></p></td><td class="c6"><p class="c2"><span>Phone number (if available).</span></p></td></tr></tbody></table><p class="c13"><span> </span></p><p class="c13"><span>If I wanted my survey to collect all of this metadata I would put the following at the top of the survey:</span></p><p class="c13 c8"><span></span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr><td class="c16"><p class="c2"><span>survey</span></p></td><td class="c21"><p class="c2 c8"><span></span></p></td><td class="c19"><p class="c2 c8"><span></span></p></td><td class="c36"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c21"><p class="c2"><span>type</span></p></td><td class="c19"><p class="c2"><span>name</span></p></td><td class="c36"><p class="c2"><span>label</span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c21"><p class="c2"><span>start</span></p></td><td class="c19"><p class="c2"><span>start</span></p></td><td class="c36"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c21"><p class="c2"><span>end</span></p></td><td class="c19"><p class="c2"><span>end</span></p></td><td class="c36"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c21"><p class="c2"><span>today</span></p></td><td class="c19"><p class="c2"><span>today</span></p></td><td class="c36"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c21"><p class="c2"><span>deviceid</span></p></td><td class="c19"><p class="c2"><span>deviceid</span></p></td><td class="c36"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c21"><p class="c2"><span>subscriberid</span></p></td><td class="c19"><p class="c2"><span>subscriberid</span></p></td><td class="c36"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c21"><p class="c2"><span>simserial</span></p></td><td class="c19"><p class="c2"><span>simserial</span></p></td><td class="c36"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c21"><p class="c2"><span>phonenumber</span></p></td><td class="c19"><p class="c2"><span>phonenumber</span></p></td><td class="c36"><p class="c2 c8"><span></span></p></td></tr></tbody></table><p class="c13 c8"><span></span></p><p class="c13"><span>Notice there are no labels associated with the metadata, that’s because the phone captures these variables automatically. These questions will not appear on the screen of the phone, but will be included in the xml file ODK Collect writes to store and transmit the survey data. To see this fields in action, fill out a survey on your phone, connect your phone to your computer and use the sd card as a USB flash drive, navigate to /sdcard/odk/instances and checkout the xml files in the folders there. This will give you an idea of what the data looks like.</span></p><h4 class="c13"><a name="h.9fwyhwlvxlyf"></a><span>Hints</span></h4><p class="c13"><span>It’s easy to add hints to questions...</span></p><h3 class="c13"><a name="h.68ucd32hlkvq"></a><span>Grouping Questions</span></h3><p class="c13"><span>To create a group of questions try the following:</span></p><p class="c13 c8"><span></span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr><td class="c37"><p class="c2"><span>survey</span></p></td><td class="c1"><p class="c2 c8"><span></span></p></td><td class="c15"><p class="c2 c8"><span></span></p></td><td class="c34"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c51"><p class="c2 c8"><span></span></p></td><td class="c1"><p class="c2"><span>type</span></p></td><td class="c15"><p class="c2"><span>name</span></p></td><td class="c34"><p class="c2"><span>label</span></p></td></tr><tr><td class="c51"><p class="c2 c8"><span></span></p></td><td class="c1"><p class="c2"><span>begin group</span></p></td><td class="c15"><p class="c2"><span>respondent</span></p></td><td class="c34"><p class="c2"><span>Respondent</span></p></td></tr><tr><td class="c51"><p class="c2 c8"><span></span></p></td><td class="c1"><p class="c2"><span>text</span></p></td><td class="c15"><p class="c2"><span>name</span></p></td><td class="c34"><p class="c2"><span>Enter the respondent’s name</span></p></td></tr><tr><td class="c51"><p class="c2 c8"><span></span></p></td><td class="c1"><p class="c2"><span>text</span></p></td><td class="c15"><p class="c2"><span>position</span></p></td><td class="c34"><p class="c2"><span>Enter the respondent’s position within the school.</span></p></td></tr><tr><td class="c51"><p class="c2 c8"><span></span></p></td><td class="c1"><p class="c2"><span>end group</span></p></td><td class="c15"><p class="c2 c8"><span></span></p></td><td class="c34"><p class="c2 c8"><span></span></p></td></tr></tbody></table><p class="c13 c8"><span></span></p><p class="c13"><span>This is a good way to group related questions. To create a repeating group of questions use the following construct:</span></p><p class="c13 c8"><span></span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr><td class="c16"><p class="c2"><span>survey</span></p></td><td class="c14"><p class="c2 c8"><span></span></p></td><td class="c7"><p class="c2 c8"><span></span></p></td><td class="c53"><p class="c2 c8"><span></span></p></td></tr><tr class="c29"><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c14"><p class="c2"><span>type</span></p></td><td class="c7"><p class="c2"><span>name</span></p></td><td class="c53"><p class="c2"><span>label</span></p></td></tr><tr class="c29"><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c14"><p class="c2"><span>begin repeat</span></p></td><td class="c7"><p class="c2"><span>member</span></p></td><td class="c53"><p class="c2"><span>Household Member</span></p></td></tr><tr class="c29"><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c14"><p class="c2"><span>text</span></p></td><td class="c7"><p class="c2"><span>name</span></p></td><td class="c53"><p class="c2"><span>Name of household member.</span></p></td></tr><tr class="c29"><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c14"><p class="c2"><span>integer</span></p></td><td class="c7"><p class="c2"><span>age</span></p></td><td class="c53"><p class="c2"><span>Age of household member.</span></p></td></tr><tr class="c29"><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c14"><p class="c2"><span>end repeat</span></p></td><td class="c7"><p class="c2 c8"><span></span></p></td><td class="c53"><p class="c2 c8"><span></span></p></td></tr></tbody></table><p class="c13 c8"><span></span></p><p class="c13"><span>The phone will ask the name and age of the first household member, and then ask if the enumerator wants to add another ‘Household Member’ group. If the enumerator responds with a ‘yes’ then the name and age of the second household member will be asked, and so on. The data will be stored in the following format:</span></p><p class="c13"><span> </span></p><p class="c13"><span>&lt;member&gt;</span></p><p class="c13"><span>  &lt;name&gt;Allen&lt;/name&gt;</span></p><p class="c13"><span>  &lt;age&gt;1&lt;/age&gt;</span></p><p class="c13"><span>&lt;/member&gt;</span></p><p class="c13"><span>&lt;member&gt;</span></p><p class="c13"><span>  &lt;name&gt;Barclay&lt;/name&gt;</span></p><p class="c13"><span>  &lt;age&gt;2&lt;/age&gt;</span></p><p class="c13"><span>&lt;/member&gt;</span></p><p class="c13"><span> </span></p><p class="c13"><span>This is a list of household members, with the name and age of each household member.</span></p><h3 class="c13"><a name="h.3z8gryy4z1bj"></a><span>Skipping Questions</span></h3><p class="c13"><span>One great feature of ODK Collect is the ability to skip a question based on the response to a previous question. Below is an example of how to do this using xls2xform:</span></p><p class="c13 c8"><span></span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr><td class="c30"><p class="c2"><span>survey</span></p></td><td class="c40"><p class="c2 c8"><span></span></p></td><td class="c38"><p class="c2 c8"><span></span></p></td><td class="c24"><p class="c2 c8"><span></span></p></td><td class="c28"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c52"><p class="c2 c8"><span></span></p></td><td class="c40"><p class="c2"><span>type</span></p></td><td class="c38"><p class="c2"><span>name</span></p></td><td class="c24"><p class="c2"><span>label</span></p></td><td class="c28"><p class="c2"><span>bind:relevant</span></p></td></tr><tr><td class="c52"><p class="c2 c8"><span></span></p></td><td class="c40"><p class="c2"><span>integer</span></p></td><td class="c38"><p class="c2"><span>age</span></p></td><td class="c24"><p class="c2"><span>How old are you?</span></p></td><td class="c28"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c52"><p class="c2 c8"><span></span></p></td><td class="c40"><p class="c2"><span>integer</span></p></td><td class="c38"><p class="c2"><span>muac</span></p></td><td class="c24"><p class="c2"><span>Record this child’s MUAC.</span></p></td><td class="c28"><p class="c2"><span>../age &lt;= 5</span></p></td></tr></tbody></table><p class="c13"><span> </span></p><p class="c13"><span>This will ask the respondent, “How old are you?” And if the respondent is not older than five, the surveyor will be prompted to “Record this child’s mid-upper arm circumference.” The entry in the bind:relevant column is an XPath expression, when this expression evaluates to true then the question will be asked, otherwise it will be skipped. In an XPath expression a single dot “.” refers to the current question, two dots “..” refer to the group of questions containing the current question. Thus when we are asking to record the child’s MUAC, “../age” looks at the group of questions containing the muac question and then finds the value for age. If you want more information on XPath expressions check out this page:</span></p><p class="c13"><span> </span></p><p class="c13"><span class="c3"><a class="c0" href="https://bitbucket.org/javarosa/javarosa/wiki/buildxforms">https://bitbucket.org/javarosa/javarosa/wiki/buildxforms</a></span></p><p class="c13 c8"><span></span></p><p class="c13"><span>We have added a helper method so you don’t have to put the XPath in for the question age, instead you can put ${age} and the xls2xform converter will replace ${age} with the absolute XPath to the question named age. </span><span>If you want to skip a group of questions put the relevant attribute on a group like follows:</span></p><p class="c13"><span> </span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr><td class="c11"><p class="c13"><span>type</span></p></td><td class="c10"><p class="c13"><span>name</span></p></td><td class="c9"><p class="c13"><span>label</span></p></td><td class="c17"><p class="c13"><span>bind:relevant</span></p></td></tr><tr><td class="c11"><p class="c13 c55"><span>integer</span></p></td><td class="c10"><p class="c13"><span>age</span></p></td><td class="c9"><p class="c13"><span>How old are you?</span></p></td><td class="c17"><p class="c13"><span> </span></p></td></tr><tr><td class="c11"><p class="c13"><span>begin group</span></p></td><td class="c10"><p class="c13"><span>child</span></p></td><td class="c9"><p class="c13"><span>Child</span></p></td><td class="c17"><p class="c13"><span>../age &lt;= 5        </span></p></td></tr><tr><td class="c11"><p class="c13"><span>integer</span></p></td><td class="c10"><p class="c13"><span>muac</span></p></td><td class="c9"><p class="c13"><span>Record this child’s mid-upper arm circumference.</span></p></td><td class="c17"><p class="c13"><span> </span></p></td></tr><tr><td class="c11"><p class="c13"><span>select one from yes_no</span></p></td><td class="c10"><p class="c13"><span>mrdt</span></p></td><td class="c9"><p class="c13"><span>Is the child’s rapid diagnostic test positive?</span></p></td><td class="c17"><p class="c13"><span> </span></p></td></tr><tr><td class="c11"><p class="c13"><span>end group</span></p></td><td class="c10"><p class="c13"><span> </span></p></td><td class="c9"><p class="c13"><span> </span></p></td><td class="c17"><p class="c13"><span> </span></p></td></tr></tbody></table><p class="c13 c8"><span></span></p><h3 class="c13"><a name="h.sb64nu83voqg"></a><span>Constraining Responses</span></h3><p class="c13 c8"><span></span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr><td class="c16"><p class="c2"><span>survey</span></p></td><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c49"><p class="c2 c8"><span></span></p></td><td class="c45"><p class="c2 c8"><span></span></p></td><td class="c35"><p class="c2 c8"><span></span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c27"><p class="c2"><span>type</span></p></td><td class="c49"><p class="c2"><span>name</span></p></td><td class="c45"><p class="c2"><span>label</span></p></td><td class="c35"><p class="c2"><span>bind:constraint</span></p></td></tr><tr><td class="c27"><p class="c2 c8"><span></span></p></td><td class="c27"><p class="c2"><span>integer</span></p></td><td class="c49"><p class="c2"><span>age</span></p></td><td class="c45"><p class="c2"><span>How old are you?</span></p></td><td class="c35"><p class="c2"><span>. &lt;= 150</span></p></td></tr></tbody></table><p class="c13 c8"><span></span></p><p class="c13"><span>The column ‘bind:constraint’ takes an XPath expression. A question is accepted if the bind:relevant column evaluates to true.</span></p><p class="c13 c8"><span></span></p><p class="c13"><span>Here we’ve put a constraint on age so that no one can be older than 150 years. If the enumerator puts 151 ODK Collect will not allow the enumerator to swipe to the next question.</span></p><h3 class="c13"><a name="h.ti3eu6hnzsk5"></a><span>Multiple Language Support</span></h3><p class="c13"><span>It’s easy to add multiple languages to a survey...</span></p><h3 class="c13"><a name="h.4qwn0r6u4iyn"></a><span>Keys to translating a paper survey to the phone</span></h3><p class="c13"><span>Writing in question numbers where appropriate. Helps know where you are in the survey and see if skip patterns are working.</span></p><p class="c13"><span> </span></p><p class="c13"><span>Certain column headers have meaning. We should have a list of reserved keywords here. If you want to be super safe when adding extra columns for personal use begin the column header with an underscore you should be in the clear (for example “_my notes”).</span></p><p class="c13"><span> </span></p><p class="c13"><span>Explanation of including sections:</span></p><p class="c13"><span> </span></p><p class="c13"><span>Uploading XForm to phone:</span></p><ol class="c20" start="1"><li class="c25 c13"><span>Connect phone to computer.</span></li><li class="c25 c13"><span>Turn on USB Storage</span></li><li class="c25 c13"><span>Copy downloaded XForm (.xml file) to /phone/odk/forms/</span></li><li class="c25 c13"><span>Eject phone from computer</span></li><li class="c25 c13"><span>Turn off USB storage</span></li></ol><p class="c13"><span> </span></p><p class="c13"><span>APN Settings:</span></p><p class="c13"><span> </span></p><p class="c13"><span>When the enumerator finishes entering data in the survey, they should ALWAYS “Mark Data as Finished” otherwise this survey cannot be sent to the server.</span></p><p class="c13"><span> </span></p><p class="c13"><span>Haiti: Kate leaves June 2nd</span></p><p class="c13"><span>Arusha: Eric leaves June 15th</span></p><p class="c13"><span> </span></p><p class="c13"><span>When to use ODK Build: Short and sweet survey.</span></p><p class="c13"><span>When to use xls2xform: Longer more complicate surveys, you are rarely connected to the internet, you need to collaborate with others either using google docs or passing excel documents back and forth</span></p><h3 class="c13"><a name="h.fkfll21bhg28"></a><span>Frequently Asked Questions</span></h3><p class="c13"><span>I want to ask a question that records how many hours and minutes were spent on an activity, what is the easiest way to do this?</span></p><p class="c13"><span>Right now, this is a tough compromise:</span></p><ol class="c20" start="1"><li class="c25 c13"><span>Ask two questions. First how many hours and then how many minutes a activity took.</span></li><li class="c25 c13"><span>Ask how many hours an activity took, where hours is a ‘decimal’ type question.</span></li><li class="c25 c13"><span>Ask how many minutes an activity took, where minutes is an ‘integer’ type question.</span></li></ol><h4 class="c13"><a name="h.f0arth1qp8c"></a><span>Household Rosters</span></h4><p class="c13"><span>I want to collect a list of all household members and refer back to it throughout the interview. How should I do this? ODK Collect 1.1.5 does not have this functionality built in but we can supplement the survey with a paper tool to help surveyors refer back to household members (and other things). Here’s what we’ve done in Nigeria. We gave each surveyor a paper sheet with the following columns:</span></p><p class="c13"><span> </span></p><table cellpadding="0" cellspacing="0" class="c5"><tbody><tr class="c29"><td class="c17"><p class="c13"><span>Household Member #</span></p></td><td class="c26"><p class="c13"><span>Name</span></p></td><td class="c22"><p class="c13"><span>Age</span></p></td><td class="c22"><p class="c13"><span>Sex</span></p></td><td class="c39"><p class="c13"><span>Child-bearing aged woman</span></p></td><td class="c41"><p class="c13"><span>Child under five</span></p></td></tr><tr class="c29"><td class="c17"><p class="c13"><span> </span></p></td><td class="c26"><p class="c13"><span> </span></p></td><td class="c22"><p class="c13"><span> </span></p></td><td class="c22"><p class="c13"><span> </span></p></td><td class="c39"><p class="c13"><span> </span></p></td><td class="c41"><p class="c13"><span> </span></p></td></tr><tr class="c29"><td class="c17"><p class="c13"><span> </span></p></td><td class="c26"><p class="c13"><span> </span></p></td><td class="c22"><p class="c13"><span> </span></p></td><td class="c22"><p class="c13"><span> </span></p></td><td class="c39"><p class="c13"><span> </span></p></td><td class="c41"><p class="c13"><span> </span></p></td></tr></tbody></table><p class="c13"><span> </span></p><p class="c13"><span>The surveyor should fill this sheet out listing household members from oldest to youngest. In some surveys all they will need to record is the name of the member. In our case we needed to mark which household members were child-bearing aged women and children under five, because different questions need to asked of these household members.</span></p><p class="c13"><span>To refer to a household member later in the survey, the surveyor should enter the Household Member #. If we want to be able to check the data submitted we might also ask for the name of the household member. This can help analysts assess the quality of data collected.</span></p><h3 class="c13"><a name="h.nk8ii6ms11yj"></a><span>References</span></h3><p class="c13"><span>form guidelines: </span><span class="c3"><a class="c0" href="http://code.google.com/p/opendatakit/wiki/XFormDesignGuidelines">http://code.google.com/p/opendatakit/wiki/XFormDesignGuidelines</a></span></p><p class="c13"><span>form design tutorial: </span><span class="c3"><a class="c0" href="https://bitbucket.org/javarosa/javarosa/wiki/buildxforms">https://bitbucket.org/javarosa/javarosa/wiki/buildxforms</a></span></p><p class="c13"><span>sample forms: </span><span class="c3"><a class="c0" href="http://code.google.com/p/opendatakit/source/browse/?repo=forms">http://code.google.com/p/opendatakit/source/browse/?repo=forms</a></span></p><p class="c13"><span>XForms as supported by JavaRosa: </span><span class="c3"><a class="c0" href="https://bitbucket.org/javarosa/javarosa/wiki/xform-jr-compat">https://bitbucket.org/javarosa/javarosa/wiki/xform-jr-compat</a></span></p></div><div id="footer"><span>Published by <a target="_blank" title="Learn more about Google Docs" href="//docs.google.com/">Google Docs</a></span><span class="dash">&ndash;</span><a href="//docs.google.com/abuse?id=1Dze4IZGr0IoIFuFAI_ohKR5mYUt4IAn5Y-uCJmnv1FQ">Report Abuse</a><span class="dash">&ndash;</span><span>Updated automatically every 5 minutes</span></div><script type="text/javascript">
(function(){var e="webkitvisibilitychange",i="start",k="sens_",l="req_",o="rcv_",p="prerender",q="ntsrt_",r="ntplt1_",s="ntplt0_",t="nsfs_",u="https://csi.gstatic.com/csi",v="https:",w="http://csi.gstatic.com/csi",x="dns_",y="con_",z="_se",B="_s",C="_req",D="_rcv",E="_ns",F="_dns",G="_con",H="_",I="?v=3",J="=",K="1",L=".",M=",",N="&tran=",O="&srt=",P="&s=",Q="&rt=",R="&p=s",S="&npn=1",T="&it=",U="&apa=1",aa="&action=",V="&",W="";if(window.jstiming){window.jstiming.a={};window.jstiming.b=1;var X=function(b,a,d){var c=b.t[a],g=b.t.start;if(c&&(g||d))return c=b.t[a][0],d!=void 0?g=d:g=g[0],c-g},Y=function(b,a,d){var c=W;window.jstiming.pt&&(c+=O+window.jstiming.pt,delete window.jstiming.pt);try{window.external&&window.external.tran?c+=N+window.external.tran:window.gtbExternal&&window.gtbExternal.tran?c+=N+window.gtbExternal.tran():window.chrome&&window.chrome.csi&&(c+=N+window.chrome.csi().tran)}catch(g){}var f=window.chrome;
if(f&&(f=f.loadTimes))f().wasFetchedViaSpdy&&(c+=R),f().wasNpnNegotiated&&(c+=S),f().wasAlternateProtocolAvailable&&(c+=U);b.c&&(c+=V+b.c);var j=b.t,ba=j.start,f=[],m=[],h;for(h in j)if(h!=i&&h.indexOf(H)!=0){var n=j[h][1];n?j[n]&&m.push(h+L+X(b,h,j[n][0])):ba&&f.push(h+L+X(b,h))}delete j.start;if(a)for(var A in a)c+=V+A+J+a[A];(a=d)||(a=v==document.location.protocol?u:w);return[a,I,P+(window.jstiming.sn||B)+aa,b.name,m.length?T+m.join(M):W,W,c,Q,f.join(M)].join(W)};window.jstiming.getReportUri=Y;
var Z=function(b,a,d){b=Y(b,a,d);if(!b)return W;var a=new Image,c=window.jstiming.b++;window.jstiming.a[c]=a;a.onload=a.onerror=function(){delete window.jstiming.a[c]};a.src=b;a=null;return b};window.jstiming.report=function(b,a,d){if(document.webkitVisibilityState==p){var c=false,g=function(){if(!c){a?a.prerender=K:a={prerender:K};var f;document.webkitVisibilityState==p?f=false:(Z(b,a,d),f=true);f&&(c=true,document.removeEventListener(e,g,false))}};document.addEventListener(e,g,false);return W}return Z(b,
a,d)};var $=function(b,a,d,c){return d>0?(c?b.tick(a,c,d):b.tick(a,W,d),true):false};window.jstiming.getNavTiming=function(b){if(window.performance&&window.performance.timing){var a=window.performance.timing;$(b,F,a.domainLookupStart)&&$(b,x,a.domainLookupEnd,F);$(b,G,a.connectStart)&&$(b,y,a.connectEnd,G);$(b,C,a.requestStart)&&$(b,l,a.responseStart,C);$(b,D,a.responseStart)&&$(b,o,a.responseEnd,D);if($(b,E,a.navigationStart)){$(b,q,a.responseStart,E);$(b,t,a.fetchStart,E);var d=window.external&&
window.external.startE;!d&&window.chrome&&window.chrome.csi&&(d=Math.floor(window.chrome.csi().startE));d&&($(b,z,d),$(b,k,a.navigationStart,z));$(b,s,a.loadEventStart,E);$(b,r,a.loadEventEnd,E)}}}};})()
</script><script type="text/javascript">KX_timer.tick('tl'); if (document.location.protocol == 'https:') {window.jstiming.report(KX_timer, undefined , 'https://gg.google.com/csi');} else {window.jstiming.report(KX_timer);}</script></body></html>